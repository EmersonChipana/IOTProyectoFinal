<app-navbar></app-navbar>

<div class="container text-center my-5">
  <h1 class="mb-3">{{nombre}}</h1>
  <div class="row">
    <div class="col">
      <button type="button" class="btn btn-info" (click)="guardarCambios()">Guardar cambios</button>
    </div>
    <div class="col">
      <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal">Agregar</button>
    </div>
  </div>
</div>

<div class="container">
  <div class="tabla" >
    <table class="table table-dark" id="table">
      <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Foco</th>
            <th scope="col">Color</th>
            <th scope="col">Tiempo</th>
            <th scope="col">Eliminar</th>
          </tr>
      </thead>
      <tbody *ngFor="let loop of loops; let index=index">
          <tr>
            <th scope="row">{{index+1}}</th>
            <td>{{loop.foco}}</td>
            <td><input type="color" value="{{RgbToHex(loop.red, loop.green, loop.blue)}}"  disabled></td>
            <td>{{loop.time}}</td>
            <td><button type="button" class="btn btn-danger" (click)="eliminarFila2(index)">Eliminar</button></td>
          </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="container text-center my-5">
  <div class="row">
    <button type="button" class="btn btn-success btn-lg" (click)="iniciarSecuencia()">Iniciar Secuencia</button>
  </div>
</div>

<!-- MODAL -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style="color: black;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Agregar una secuencia</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <div class="col">
            <label for="foco">Foco</label>
            <select class="form-select my-2" id="foco" aria-label="Default select example">
              <option selected value="-1">Elija un foco</option>
              <option *ngFor="let foco of listaFocos; let index=index" value="{{index}}">
                {{foco}}
              </option>
            </select>

            <label for="color" class="form-label">Color</label>
            <input type="color" class="form-control form-control-color" id="color" value="#000000" title="Choose your color">

            <label for="tiempo">Tiempo(s)</label>
            <input type="number" class="form-control form-control-color" id="tiempo" value="1" min="1">
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="agregarSecuencia()">Agregar</button>
      </div>
    </div>
  </div>
</div>

